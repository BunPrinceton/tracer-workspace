<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proofreading - Tasks - Princeton Tracer</title>
    <!-- ============================================================
         TASK PAGE TEMPLATE - Proofreading (TASK-02)
         See semantic-segmentation/index.html for full template documentation
         ============================================================ -->
    <style>
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { font-size: 18px; line-height: 1.6; }
        body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif; background-color: #f5f5f5; color: #1a1a1a; min-height: 100vh; }

        nav { background-color: #1a1a1a; padding: 0.75rem 1.5rem; }
        nav ul { list-style: none; display: flex; flex-wrap: wrap; gap: 0.25rem 1.5rem; max-width: 1200px; margin: 0 auto; }
        nav a { color: #e5e5e5; text-decoration: none; font-size: 0.875rem; padding: 0.5rem 0; display: inline-block; }
        nav a:hover, nav a:focus { text-decoration: underline; text-underline-offset: 4px; }
        nav a[aria-current="page"] { color: #ffffff; font-weight: 600; }

        main { max-width: 900px; margin: 0 auto; padding: 2rem 1.5rem 4rem; }

        .breadcrumb { font-size: 0.875rem; color: #525252; margin-bottom: 1rem; }
        .breadcrumb a { color: #2563eb; text-decoration: none; }
        .breadcrumb a:hover { text-decoration: underline; }

        .page-header { margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 2px solid #d4d4d4; }
        .page-header h1 { font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap; }
        .task-id { font-size: 0.875rem; font-weight: 600; color: #2563eb; background-color: #eff6ff; padding: 0.25rem 0.625rem; border-radius: 4px; }
        .page-header > p { color: #525252; font-size: 1.0625rem; }

        .section { background-color: #ffffff; border: 2px solid #d4d4d4; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; }
        .section h2 { font-size: 1.125rem; font-weight: 600; color: #1a1a1a; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid #e5e5e5; }
        .section h3 { font-size: 1rem; font-weight: 600; color: #1a1a1a; margin-top: 1.25rem; margin-bottom: 0.5rem; }
        .section h3:first-child { margin-top: 0; }
        .section p { margin-bottom: 1rem; color: #525252; }
        .section p:last-child { margin-bottom: 0; }
        .section ul, .section ol { margin-left: 1.25rem; margin-bottom: 1rem; }
        .section li { padding: 0.25rem 0; }
        .section a { color: #2563eb; text-decoration: none; }
        .section a:hover, .section a:focus { text-decoration: underline; }

        .sop-current { background-color: #eff6ff; border-color: #2563eb; }
        .sop-badge { display: inline-block; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; padding: 0.25rem 0.5rem; border-radius: 3px; margin-left: 0.5rem; vertical-align: middle; }
        .sop-badge--current { background-color: #2563eb; color: #ffffff; }
        .sop-badge--archived { background-color: #737373; color: #ffffff; }

        details { background-color: #fafafa; border: 2px solid #e5e5e5; border-radius: 8px; margin-bottom: 1.5rem; }
        summary { padding: 1rem 1.5rem; cursor: pointer; font-weight: 600; color: #525252; list-style: none; display: flex; align-items: center; gap: 0.5rem; }
        summary::-webkit-details-marker { display: none; }
        summary::before { content: "▶"; font-size: 0.75rem; transition: transform 0.2s; }
        details[open] summary::before { transform: rotate(90deg); }
        summary:hover { background-color: #f5f5f5; }
        details .details-content { padding: 0 1.5rem 1.5rem; border-top: 1px solid #e5e5e5; }

        .tools-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
        .tool-card { background-color: #f5f5f5; border-radius: 6px; padding: 1rem; }
        .tool-card h4 { font-size: 0.9375rem; font-weight: 600; margin-bottom: 0.25rem; }
        .tool-card p { font-size: 0.875rem; color: #525252; margin: 0; }

        .failure-modes { list-style: none; margin: 0; }
        .failure-modes li { background-color: #f5f5f5; border-left: 4px solid #d4d4d4; padding: 0.75rem 1rem; margin-bottom: 0.5rem; border-radius: 0 6px 6px 0; }
        .failure-modes strong { display: block; margin-bottom: 0.25rem; }
        .failure-modes span { font-size: 0.875rem; color: #525252; }

        .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; background-color: #1a1a1a; border-radius: 8px; margin-bottom: 1rem; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
        .video-placeholder { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #737373; text-align: center; padding: 1rem; }
        .video-placeholder-icon { font-size: 3rem; margin-bottom: 0.5rem; }
        .video-list { list-style: none; margin: 0; }
        .video-list li { padding: 0.5rem 0; border-bottom: 1px solid #e5e5e5; }
        .video-list li:last-child { border-bottom: none; }

        .gallery-links { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 0.75rem; list-style: none; margin: 0; }
        .gallery-links a { display: block; background-color: #f5f5f5; padding: 0.75rem 1rem; border-radius: 6px; text-align: center; font-size: 0.875rem; }
        .gallery-links a:hover { background-color: #eff6ff; text-decoration: none; }

        .publication-list { list-style: none; margin: 0; }
        .publication-list li { padding: 0.75rem 0; border-bottom: 1px solid #e5e5e5; }
        .publication-list li:last-child { border-bottom: none; }
        .publication-title { font-weight: 600; margin-bottom: 0.25rem; }
        .publication-meta { font-size: 0.875rem; color: #525252; }
        .publication-links { font-size: 0.875rem; margin-top: 0.25rem; }
        .publication-links a { margin-right: 1rem; }

        .placeholder-notice { background-color: #fafafa; border: 2px dashed #d4d4d4; border-radius: 6px; padding: 1rem; text-align: center; color: #737373; font-size: 0.875rem; }

        footer { max-width: 900px; margin: 0 auto; padding: 2rem 1.5rem; border-top: 1px solid #e5e5e5; font-size: 0.875rem; color: #737373; }
        footer a { color: #525252; }
        footer a:hover { color: #1a1a1a; }
        .footer-nav { display: flex; justify-content: space-between; flex-wrap: wrap; gap: 1rem; }

        @media (max-width: 600px) { html { font-size: 16px; } main { padding: 1.5rem 1rem; } .page-header h1 { font-size: 1.5rem; } .tools-grid { grid-template-columns: 1fr; } .gallery-links { grid-template-columns: 1fr 1fr; } }
        @media print { nav, footer { display: none; } .section { break-inside: avoid; border: 1px solid #000; } }
    </style>
</head>
<body>

<nav aria-label="Main navigation">
    <ul>
        <li><a href="../../">Dashboard</a></li>
        <li><a href="../../pipeline/">Pipeline</a></li>
        <li><a href="../../tasks/" aria-current="page">Tasks</a></li>
        <li><a href="../../gallery/">Gallery</a></li>
        <li><a href="../../sop/">SOP</a></li>
        <li><a href="../../publications/">Publications</a></li>
        <li><a href="../../stats/">Stats</a></li>
        <li><a href="../../archive/">Archive</a></li>
    </ul>
</nav>

<main>

    <div class="breadcrumb">
        <a href="../">Tasks</a> / Proofreading
    </div>

    <div class="page-header">
        <h1>
            Proofreading
            <span class="task-id">TASK-02</span>
        </h1>
        <p>Verifying and correcting AI-generated neuron segmentations for accuracy.</p>
    </div>


    <!-- SECTION 1: TASK OVERVIEW -->
    <section class="section" id="overview">
        <h2>Task Overview</h2>

        <h3>What is Proofreading?</h3>
        <p>
            Proofreading is the process of manually reviewing and correcting automated neuron
            segmentations. AI models generate initial segmentations that often contain errors—
            neurons incorrectly merged together or split into fragments. Proofreaders identify
            and fix these errors to produce accurate reconstructions.
        </p>

        <h3>Why is it Important?</h3>
        <p>
            Proofreading is the critical quality control step that transforms raw AI output into
            publication-quality data. Even small errors can propagate through downstream analysis,
            affecting connectivity maps and scientific conclusions. Accurate proofreading ensures
            the integrity of the entire connectome reconstruction.
        </p>

        <h3>Key Objectives</h3>
        <ul>
            <li>Identify false mergers (two neurons incorrectly joined)</li>
            <li>Identify false splits (one neuron incorrectly fragmented)</li>
            <li>Apply corrections using split and merge operations</li>
            <li>Verify reconstruction completeness at branch points</li>
            <li>Flag uncertain regions for expert review</li>
        </ul>
    </section>


    <!-- SECTION 2: CURRENT SOP (AUTHORITATIVE) -->
    <section class="section sop-current" id="current-sop">
        <h2>
            Current Standard Operating Procedure
            <span class="sop-badge sop-badge--current">Authoritative</span>
        </h2>

        <h3>Three-Round Triage System</h3>
        <p>
            Proofreading follows a structured three-round approach to systematically
            improve neuron reconstructions while efficiently allocating reviewer time.
        </p>

        <h3>Round 1: Quick Scan</h3>
        <ol>
            <li>Load the assigned neuron in Neuroglancer/WebKnossos</li>
            <li>Quickly scroll through the entire reconstruction (30-60 seconds)</li>
            <li>Identify obvious large errors (major mergers, missing branches)</li>
            <li>Note any suspicious regions for detailed review</li>
            <li>If neuron appears catastrophically wrong, flag for expert review</li>
        </ol>

        <h3>Round 2: Systematic Review</h3>
        <ol>
            <li>Start at the soma (cell body) if visible</li>
            <li>Follow each major branch outward to terminals</li>
            <li>At each branch point, verify all children belong to the same neuron</li>
            <li>Look for discontinuities suggesting false splits</li>
            <li>Check for color changes suggesting false mergers</li>
            <li>Apply split/merge corrections as needed</li>
        </ol>

        <h3>Round 3: Verification</h3>
        <ol>
            <li>Review all corrections made in Round 2</li>
            <li>Verify the neuron has anatomically plausible morphology</li>
            <li>Check terminal endings reach appropriate targets</li>
            <li>Submit for QA review when satisfied</li>
        </ol>

        <h3>Quality Criteria</h3>
        <ul>
            <li>No visible false mergers with adjacent neurons</li>
            <li>All major branches connected (no orphan fragments)</li>
            <li>Morphology consistent with expected neuron type</li>
            <li>Uncertain regions properly flagged</li>
        </ul>

        <h3>Source Document</h3>
        <p>
            <a href="../../Proofreading Protocol_ Three-Round Triage System.docx">
                Proofreading Protocol: Three-Round Triage System (DOCX)
            </a>
        </p>
    </section>


    <!-- SECTION 3: HISTORICAL SOPS (COLLAPSED) -->
    <details id="historical-sops">
        <summary>
            Historical SOPs
            <span class="sop-badge sop-badge--archived">Archived</span>
        </summary>
        <div class="details-content">
            <p>
                Previous proofreading protocols are preserved here for reference.
                Always use the Current SOP above.
            </p>

            <h3>Version History</h3>
            <ul>
                <li>
                    <strong>v2.0 (Current)</strong> — January 2026
                    <br>Three-round triage system, updated for WebKnossos
                </li>
                <li>
                    <strong>v1.0</strong> — 2025
                    <br>Original single-pass proofreading protocol
                </li>
            </ul>

            <h3>Archived Documents</h3>
            <ul>
                <li><a href="../../archive/">Archive: Historical Documentation</a></li>
            </ul>

            <div class="placeholder-notice">
                Additional historical documents will be linked here as they are migrated.
            </div>
        </div>
    </details>


    <!-- SECTION 4: VISUAL EXAMPLES -->
    <section class="section" id="visual-examples">
        <h2>Visual Examples</h2>

        <p>
            Reference images showing common error patterns and correct reconstructions.
        </p>

        <ul class="gallery-links">
            <li><a href="../../gallery/">Visual Gallery</a></li>
            <li><a href="../../gallery/#tommy-macrina">Protocol Reference</a></li>
        </ul>

        <h3>Error Pattern Quick Reference</h3>
        <ul>
            <li><strong>False Merger</strong> — Two differently-colored processes touch but shouldn't connect</li>
            <li><strong>False Split</strong> — A process abruptly ends where it should continue</li>
            <li><strong>Missing Branch</strong> — Branch point exists but one child is missing</li>
            <li><strong>Extra Fragment</strong> — Isolated piece that should be merged or deleted</li>
        </ul>

        <div class="placeholder-notice">
            Task-specific example images will be added to the gallery and linked here.
        </div>
    </section>


    <!-- SECTION 5: COMMON FAILURE MODES -->
    <section class="section" id="failure-modes">
        <h2>Common Failure Modes</h2>

        <ul class="failure-modes">
            <li>
                <strong>Missing small branches</strong>
                <span>
                    Fine processes are easy to miss. Always check branch points carefully and
                    follow each child to its terminal.
                </span>
            </li>
            <li>
                <strong>Accepting AI-generated mergers</strong>
                <span>
                    Don't assume the segmentation is correct. Verify that connected segments
                    actually belong to the same neuron.
                </span>
            </li>
            <li>
                <strong>Over-splitting at ambiguous regions</strong>
                <span>
                    When unclear, flag for review rather than splitting. False splits are
                    harder to fix later than false mergers.
                </span>
            </li>
            <li>
                <strong>Ignoring crossing fibers</strong>
                <span>
                    Where processes cross (but don't synapse), verify they're correctly
                    separated. This is a common merger location.
                </span>
            </li>
            <li>
                <strong>Rushing Round 1</strong>
                <span>
                    The quick scan should still be thorough enough to catch major errors.
                    Don't skip regions entirely.
                </span>
            </li>
        </ul>
    </section>


    <!-- SECTION 6: TOOLS USED -->
    <section class="section" id="tools">
        <h2>Tools Used</h2>

        <div class="tools-grid">
            <div class="tool-card">
                <h4>WebKnossos</h4>
                <p>Primary proofreading platform with split/merge tools</p>
            </div>
            <div class="tool-card">
                <h4>Neuroglancer</h4>
                <p>3D visualization for verifying reconstructions</p>
            </div>
            <div class="tool-card">
                <h4>CAVE</h4>
                <p>Backend database storing segmentation edits</p>
            </div>
            <div class="tool-card">
                <h4>FlyWire</h4>
                <p>Collaborative proofreading interface</p>
            </div>
        </div>

        <h3>Key Operations</h3>
        <ul>
            <li><strong>Split</strong> — Separate incorrectly merged segments</li>
            <li><strong>Merge</strong> — Join segments belonging to same neuron</li>
            <li><strong>Undo</strong> — Revert recent edit if mistake made</li>
            <li><strong>Flag</strong> — Mark uncertain region for expert review</li>
        </ul>

        <p>
            <a href="../../pipeline/#tools">View all pipeline tools →</a>
        </p>
    </section>


    <!-- SECTION 7: TRAINING VIDEOS -->
    <section class="section" id="training-videos">
        <h2>Training Videos</h2>

        <div class="video-container">
            <div class="video-placeholder">
                <div class="video-placeholder-icon">▶</div>
                <div>Training video coming soon</div>
                <div style="font-size: 0.75rem; margin-top: 0.5rem;">
                    YouTube embed will be added here
                </div>
            </div>
        </div>

        <h3>Additional Videos</h3>
        <ul class="video-list">
            <li>
                <a href="../../Ground-Truth-Training/synapse training videos/bushell_of_synapses.webm">
                    Synapse Identification (for context)
                </a>
                (Local file)
            </li>
        </ul>

        <div class="placeholder-notice">
            Proofreading tutorial videos will be embedded as they become available.
        </div>
    </section>


    <!-- SECTION 8: RELATED PUBLICATIONS -->
    <section class="section" id="publications">
        <h2>Related Publications</h2>

        <ul class="publication-list">
            <li>
                <div class="publication-title">
                    FlyWire: Online community for whole-brain connectomics
                </div>
                <div class="publication-meta">
                    Dorkenwald et al. • Nature Methods • 2022
                </div>
                <div class="publication-links">
                    <a href="#">DOI</a>
                </div>
            </li>
        </ul>

        <div class="placeholder-notice">
            Additional publication references will be added as the bibliography is compiled.
        </div>

        <p>
            <a href="../../publications/">View all publications →</a>
        </p>
    </section>


    <!-- SECTION 9: RELATED DOCUMENTATION -->
    <section class="section" id="related">
        <h2>Related Documentation</h2>
        <ul>
            <li><a href="../../sop/">Standard Operating Procedures</a></li>
            <li><a href="../../pipeline/#proofreading">Pipeline: Proofreading Stage</a></li>
            <li><a href="../split-merge/">Task: Split/Merge Resolution</a></li>
            <li><a href="../quality-assurance/">Task: Quality Assurance</a></li>
            <li><a href="../../stats/#id-validation">ID Validation</a></li>
        </ul>
    </section>

</main>

<footer>
    <div class="footer-nav">
        <a href="../">← Back to Tasks</a>
        <a href="../../">Dashboard</a>
    </div>
</footer>

</body>
</html>
